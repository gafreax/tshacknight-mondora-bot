{"version":3,"sources":["../src/bot.js"],"names":["azure","require","connector","appId","appPassword","defaultAction","session","args","next","console","log","rnd","Math","floor","random","phrase","length","endDialog","startBot","bot","azureTableClient","AzureTableClient","tableStorage","AzureBotStorage","gzipData","set","defaultLocale","intentThreshold","recognizer","dialog","endConversation","triggerAction","matches","listen"],"mappings":";;;;;;AAAA;;AAUA;;AAWA;;AAKA;;AADA,IAAIA,QAAQC,QAAQ,kBAAR,CAAZ;;;AAKA,IAAMC,YAAY,8BAAkB;AAChCC,mCADgC;AAEhCC;AAFgC,CAAlB,CAAlB;AAIA,IAAMC,gBAAgB,SAAhBA,aAAgB,CAACC,OAAD,EAAUC,IAAV,EAAgBC,IAAhB,EAAyB;AAC3CC,YAAQC,GAAR,CAAY,gBAAZ;AACA,QAAIC,MAAMC,KAAKC,KAAL,CAAWD,KAAKE,MAAL,KAAgBC,OAAOC,MAAvB,GAAgC,CAA3C,CAAV;AACAV,YAAQW,SAAR,CAAkBF,OAAOJ,GAAP,CAAlB;AACH,CAJD;AAKA,IAAIO,WAAW,SAAXA,QAAW,GAAM;AACjBT,YAAQC,GAAR,CAAY,iBAAZ;AACA,QAAIS,MAAM,6BAAiBjB,SAAjB,EAA4BG,aAA5B,CAAV;AACA,QAAIe,mBAAmB,IAAIpB,MAAMqB,gBAAV,iFAAvB;AACA,QAAIC,eAAe,IAAItB,MAAMuB,eAAV,CAA0B;AACzCC,kBAAU;AAD+B,KAA1B,EAEhBJ,gBAFgB,CAAnB;AAGAD,QAAIM,GAAJ,CAAQ,SAAR,EAAmBH,YAAnB;AACAH,QAAIM,GAAJ,CAAQ,yBAAR,EAAmC,KAAnC;AACAN,QAAIM,GAAJ,CAAQ,iBAAR,EAA2B,IAA3B;;AAEAN,QAAIM,GAAJ,CAAQ,mBAAR,EAA6B;AACzBC;AADyB,KAA7B;AAGAP,QAAIM,GAAJ,CAAQ,6BAAR,EAAuC;AACnCE;AADmC,KAAvC;AAGAR,QAAIS,UAAJ,CAAe,4DAAf;AACAT,QAAIjB,SAAJ,CAAc,GAAd,EAAmBA,SAAnB;AACAiB,QAAIS,UAAJ,CAAe,iCAAqB,YAArB,EAAmC,QAAnC,CAAf;AACAT,QAAIU,MAAJ,CAAW,aAAX,EAA0B,UAAUvB,OAAV,EAAmB;AACzCA,gBAAQwB,eAAR,CAAwB,mBAAxB;AACH,KAFD,EAEGC,aAFH,CAEiB;AACbC,iBAAS;AADI,KAFjB;AAKAvB,YAAQC,GAAR,CAAY,YAAZ;AACA,WAAOR,UAAU+B,MAAV,EAAP;AACH,CA3BD;;kBA6Bef,Q","file":"bot.js","sourcesContent":["import {\n    UniversalBot,\n    MemoryBotStorage,\n    LuisRecognizer,\n    IntentDialog,\n    ChatConnector,\n    AzureTableClient,\n    Session,\n    RegExpRecognizer\n} from 'botbuilder';\nimport {\n    LUIS_RECOGNIZER_URLS,\n    LUIS_INTENTS_THRESHOLD,\n    MICROSOFT_APP_ID,\n    MICROSOFT_APP_PASSWORD,\n    AZURE_STORAGE_KEY,\n    AZURE_TABLE_NAME,\n    AZURE_STORAGE_NAME,\n    DEFAULT_LOCALE\n} from './config';\n\nimport {\n    version\n} from '../package.json';\n\nvar azure = require('botbuilder-azure');\nimport {\n    load\n} from 'dotenv';\n\nconst connector = new ChatConnector({\n    appId: MICROSOFT_APP_ID,\n    appPassword: MICROSOFT_APP_PASSWORD\n});\nconst defaultAction = (session, args, next) => {\n    console.log('default action');\n    var rnd = Math.floor(Math.random() * phrase.length + 1);\n    session.endDialog(phrase[rnd]);\n}\nvar startBot = () => {\n    console.log('Starting bot...');\n    var bot = new UniversalBot(connector, defaultAction);\n    var azureTableClient = new azure.AzureTableClient(AZURE_TABLE_NAME, AZURE_STORAGE_NAME, AZURE_STORAGE_KEY);\n    var tableStorage = new azure.AzureBotStorage({\n        gzipData: false\n    }, azureTableClient);\n    bot.set('storage', tableStorage);\n    bot.set('persistConversationData', false);\n    bot.set('persistUserData', true);\n\n    bot.set('localizerSettings', {\n        defaultLocale: DEFAULT_LOCALE\n    });\n    bot.set('IIntentRecognizerSetOptions', {\n        intentThreshold: LUIS_INTENTS_THRESHOLD\n    });\n    bot.recognizer(new LuisRecognizer(LUIS_RECOGNIZER_URLS));\n    bot.connector('*', connector);\n    bot.recognizer(new RegExpRecognizer('TestIntent', 'testme'));\n    bot.dialog('TestlDialog', function (session) {\n        session.endConversation('Ok, I\\'m ALIVE!!.');\n    }).triggerAction({\n        matches: 'TestIntent'\n    });\n    console.log('COPMPLETE ');\n    return connector.listen();\n};\n\nexport default startBot;\n"]}