{"version":3,"sources":["../src/bot.js"],"names":["UniversalBot","MemoryBotStorage","LuisRecognizer","IntentDialog","ChatConnector","AzureTableClient","Session","LUIS_RECOGNIZER_URLS","LUIS_INTENTS_THRESHOLD","MICROSOFT_APP_ID","MICROSOFT_APP_PASSWORD","AZURE_STORAGE_KEY","AZURE_TABLE_NAME","AZURE_STORAGE_NAME","DEFAULT_LOCALE","version","action","defaultAction","azure","require","loader","load","connector","appId","appPassword","startBot","console","log","bot","azureTableClient","tableStorage","AzureBotStorage","gzipData","set","defaultLocale","intentThreshold","recognizer","builder","RegExpRecognizer","dialog","session","endConversation","triggerAction","matches","listen"],"mappings":"AAAA,SACIA,YADJ,EAEIC,gBAFJ,EAGIC,cAHJ,EAIIC,YAJJ,EAKIC,aALJ,EAMIC,gBANJ,EAOIC,OAPJ,QAQO,YARP;AASA,SACIC,oBADJ,EAEIC,sBAFJ,EAGIC,gBAHJ,EAIIC,sBAJJ,EAKIC,iBALJ,EAMIC,gBANJ,EAOIC,kBAPJ,EAQIC,cARJ,QASO,UATP;;AAWA,SACIC,OADJ,QAEO,iBAFP;;AAIA,SACIC,UAAUC,aADd,QAEO,kBAFP;;AAIA,IAAIC,QAAQC,QAAQ,kBAAR,CAAZ;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,SACIC,IADJ,QAEO,QAFP;;AAIA,MAAMC,YAAY,IAAIlB,aAAJ,CAAkB;AAChCmB,WAAOd,gBADyB;AAEhCe,iBAAad;AAFmB,CAAlB,CAAlB;;AAKA,IAAIe,WAAW,MAAM;AACjBC,YAAQC,GAAR,CAAY,iBAAZ;AACA,QAAIC,MAAM,IAAI5B,YAAJ,CAAiBsB,SAAjB,EAA4BL,aAA5B,CAAV;AACA,QAAIY,mBAAmB,IAAIX,MAAMb,gBAAV,CAA2BO,gBAA3B,EAA6CC,kBAA7C,EAAiEF,iBAAjE,CAAvB;AACA,QAAImB,eAAe,IAAIZ,MAAMa,eAAV,CAA0B;AACzCC,kBAAU;AAD+B,KAA1B,EAEhBH,gBAFgB,CAAnB;AAGAD,QAAIK,GAAJ,CAAQ,SAAR,EAAmBH,YAAnB;AACAF,QAAIK,GAAJ,CAAQ,yBAAR,EAAmC,KAAnC;AACAL,QAAIK,GAAJ,CAAQ,iBAAR,EAA2B,IAA3B;;AAEAL,QAAIK,GAAJ,CAAQ,mBAAR,EAA6B;AACzBC,uBAAepB;AADU,KAA7B;AAGAc,QAAIK,GAAJ,CAAQ,6BAAR,EAAuC;AACnCE,yBAAiB3B;AADkB,KAAvC;AAGAoB,QAAIQ,UAAJ,CAAe,IAAIlC,cAAJ,CAAmBK,oBAAnB,CAAf;AACAqB,QAAIN,SAAJ,CAAc,GAAd,EAAmBA,SAAnB;AACAM,QAAIQ,UAAJ,CAAe,IAAIC,QAAQC,gBAAZ,CAA6B,YAA7B,EAA2C,QAA3C,CAAf;AACAV,QAAIW,MAAJ,CAAW,aAAX,EAA0B,UAAUC,OAAV,EAAmB;AACzCA,gBAAQC,eAAR,CAAwB,mBAAxB;AACH,KAFD,EAEGC,aAFH,CAEiB;AACbC,iBAAS;AADI,KAFjB;AAKAjB,YAAQC,GAAR,CAAY,YAAZ;AACAD,YAAQC,GAAR,CAAY,kBAAkBZ,OAA9B;AACA,WAAOO,UAAUsB,MAAV,EAAP;AACH,CA5BD;;AA8BA,eAAenB,QAAf","file":"bot.js","sourcesContent":["import {\n    UniversalBot,\n    MemoryBotStorage,\n    LuisRecognizer,\n    IntentDialog,\n    ChatConnector,\n    AzureTableClient,\n    Session\n} from 'botbuilder';\nimport {\n    LUIS_RECOGNIZER_URLS,\n    LUIS_INTENTS_THRESHOLD,\n    MICROSOFT_APP_ID,\n    MICROSOFT_APP_PASSWORD,\n    AZURE_STORAGE_KEY,\n    AZURE_TABLE_NAME,\n    AZURE_STORAGE_NAME,\n    DEFAULT_LOCALE\n} from './config';\n\nimport {\n    version\n} from '../package.json';\n\nimport {\n    action as defaultAction\n} from './dialog/default';\n\nvar azure = require('botbuilder-azure');\nimport loader from './loader';\nimport {\n    load\n} from 'dotenv';\n\nconst connector = new ChatConnector({\n    appId: MICROSOFT_APP_ID,\n    appPassword: MICROSOFT_APP_PASSWORD\n});\n\nvar startBot = () => {\n    console.log('Starting bot...');\n    var bot = new UniversalBot(connector, defaultAction);\n    var azureTableClient = new azure.AzureTableClient(AZURE_TABLE_NAME, AZURE_STORAGE_NAME, AZURE_STORAGE_KEY);\n    var tableStorage = new azure.AzureBotStorage({\n        gzipData: false\n    }, azureTableClient);\n    bot.set('storage', tableStorage);\n    bot.set('persistConversationData', false);\n    bot.set('persistUserData', true);\n\n    bot.set('localizerSettings', {\n        defaultLocale: DEFAULT_LOCALE\n    });\n    bot.set('IIntentRecognizerSetOptions', {\n        intentThreshold: LUIS_INTENTS_THRESHOLD\n    });\n    bot.recognizer(new LuisRecognizer(LUIS_RECOGNIZER_URLS));\n    bot.connector('*', connector);\n    bot.recognizer(new builder.RegExpRecognizer('TestIntent', 'testme'));\n    bot.dialog('TestlDialog', function (session) {\n        session.endConversation('Ok, I\\'m ALIVE!!.');\n    }).triggerAction({\n        matches: 'TestIntent'\n    });\n    console.log('COPMPLETE ');\n    console.log('bot version: ' + version);\n    return connector.listen();\n};\n\nexport default startBot;\n"]}